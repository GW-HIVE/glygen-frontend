<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: quick_search.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: quick_search.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// @author:Rupali Mahadik.
// @description: UO1 Version-1.1.

/**
 * Q.1- What are the enzymes involved in the biosynthesis of glycan X in human?
 */
$("#bioenzyme").autocomplete({
    source: function (request, response) {
        var queryUrl = getWsUrl("type-ahead") + "?" + getSearchtypeheadData("glytoucan_ac", request.term);
        $.getJSON(queryUrl, function (suggestions) {
            suggestions.length = Math.min(suggestions.length, 10);
            response(suggestions);
        });
    },
    minLength: 1,
    select: function (event, ui) {
        console.log("Selected: " + ui.item.value + " aka " + ui.item.id);
    }
});

function bioEnzyme() {
    var id = $("#bioenzyme").val();
    $.ajax({
        type: 'POST',
        url: getWsUrl("search_bioenzyme", id),
        error: ajaxSearchFailure,
        success: function (results) {
            if (results.list_id) {
                window.location = './quick_protein_list.html?id=' + results.list_id + "&amp;question=QUESTION_1";
            }
            else {
                displayErrorByCode('no-results-found');
            }
        }
    })
}

/**
 * Q.2- Which proteins have been shown to bear glycan X and which site is this glycan attached to?
 */
$("#glycansite").autocomplete({
    source: function (request, response) {
        var queryUrl = getWsUrl("type-ahead") + "?" + getSearchtypeheadData("glytoucan_ac", request.term);
        $.getJSON(queryUrl, function (suggestions) {
            suggestions.length = Math.min(suggestions.length, 10);
            response(suggestions);
        });
    },
    minLength: 1,
    select: function (event, ui) {
        console.log("Selected: " + ui.item.value + " aka " + ui.item.id);
    }
});

function glycanSite() {
    var id = $("#glycansite").val();
    $.ajax({
        type: 'POST',
        url: getWsUrl("search_glycansite", id),
        error: ajaxSearchFailure,
        success: function (results) {
            if (results.list_id) {
                window.location = './quick_protein_list.html?id=' + results.list_id + "&amp;question=QUESTION_2";
            }
            else {
                displayErrorByCode('no-results-found');
            }
        }
    })
}

/**
 * Q.3 What are the gene locations of the enzymes involved in the biosynthesis of glycan X in human?
 */
$("#glycangene").autocomplete({
    source: function (request, response) {
        var queryUrl = getWsUrl("type-ahead") + "?" + getSearchtypeheadData("glytoucan_ac", request.term);
        $.getJSON(queryUrl, function (suggestions) {
            suggestions.length = Math.min(suggestions.length, 10);
            response(suggestions);
        });
    },
    minLength: 1,
    select: function (event, ui) {
        console.log("Selected: " + ui.item.value + " aka " + ui.item.id);
    }
});

function glycanGene() {
    var id = $("#glycangene").val();
    $.ajax({
        type: 'POST',
        url: getWsUrl("search_glycangene", id),
        error: ajaxSearchFailure,
        success: function (results) {
            if (results.list_id) {
                window.location = './locus_list.html?id=' + results.list_id + "&amp;question=QUESTION_3";
            }
            else {
                displayErrorByCode('no-results-found');
            }
        }
    })
}

/**
 * Q4.What are the orthologues of protein X in different species?
 */
$("#proteinorthologues").autocomplete({
    source: function (request, response) {
        var queryUrl = getWsUrl("type-ahead") + "?" + getSearchtypeheadData("uniprot_canonical_ac", request.term);
        $.getJSON(queryUrl, function (suggestions) {
            suggestions.length = Math.min(suggestions.length, 5);
            response(suggestions);
        });
    },
    minLength: 1,
    select: function (event, ui) {
        console.log("Selected: " + ui.item.value + " aka " + ui.item.id);
    }
});

function proteinOrthologues() {
    var id = $("#proteinorthologues").val();
    $.ajax({
        type: 'post',
        url: getWsUrl("search_proteinorthologues", id),
        error: ajaxSearchFailure,
        success: function (results) {
            if (results.list_id) {
                window.location = './protein_orthologus.html?id=' + results.list_id + "&amp;question=QUESTION_4";
            }
            else {
                displayErrorByCode('no-results-found');
            }
        }
    })
}

/**
 * Q.5- What are the functions of protein X?
 */
$("#proteinfunction").autocomplete({
    source: function (request, response) {
        var queryUrl = getWsUrl("type-ahead") + "?" + getSearchtypeheadData("uniprot_canonical_ac", request.term);
        $.getJSON(queryUrl, function (suggestions) {
            suggestions.length = Math.min(suggestions.length, 5);
            response(suggestions);
        });
    },
    minLength: 1,
    select: function (event, ui) {
        console.log("Selected: " + ui.item.value + " aka " + ui.item.id);
    }
});

function proteinFunction() {
    var id = $("#proteinfunction").val();
    $.ajax({
        type: 'post',
        url: getWsUrl("protein_detail", id),
        error: ajaxSearchFailure,
        success: function (results) {
            if (results.error_code) {
                displayErrorByCode("Invalid ID");
            }
            else {
                window.location = "protein_detail.html?uniprot_canonical_ac=" + id +'#function';
            }
        }
    })
}

/**
 * Q.6- Which glycans might have been synthesized in mouse using enzyme X?
 */
$("#glycanenzyme").autocomplete({
    source: function (request, response) {
        var queryUrl = getWsUrl("type-ahead") + "?" + getSearchtypeheadData("enzyme_uniprot_canonical_ac", request.term);
        $.getJSON(queryUrl, function (suggestions) {
            suggestions.length = Math.min(suggestions.length, 5);
            response(suggestions);
        });
    },
    minLength: 1,
    select: function (event, ui) {
        console.log("Selected: " + ui.item.value + " aka " + ui.item.id);
    }
});

function glycanEnzyme() {
    var id = $("#glycanenzyme").val();
    $.ajax({
        type: 'post',
        url: getWsUrl("search_glycanenzyme", id),
        error: ajaxSearchFailure,
        // data: json,
        success: function (results) {
            if (results.list_id) {
                window.location = './quick_glycan_list.html?id=' + results.list_id + "&amp;question=QUESTION_6";
            }
            else {
                displayErrorByCode('no-results-found');
            }
        }
    })
}

/**
 * Q.7- What are the glycosyltransferases in species X?
 */
var searchInitValues;

$(document).ready(function () {
    $.getJSON(getWsUrl("search_init_glycan"), function (result) {
        searchInitValues = result;
        var orgElement = $("#organism1").get(0);
        createOption(orgElement, result.organism[0].name, result.organism[0].id);
        createOption(orgElement, result.organism[1].name, result.organism[1].id);
    });
});

function createOption(ddl, text, value) {
    var opt = document.createElement('option');
    opt.value = value;
    opt.text = text;
    ddl.options.add(opt);
}

function glycosylTransferases() {
    var id = $("#organism1").val();
    $.ajax({
        type: 'post',
        url: getWsUrl("search_glycosyltransferases", id),
        error: ajaxSearchFailure,
        // data: json,
        success: function (results) {
            if (results.list_id) {
                window.location = './quick_protein_list.html?id=' + results.list_id + "&amp;question=QUESTION_7";
            }
            else {
                displayErrorByCode('no-results-found');
            }
        }
    })
}

/**
 * Q.8- What are the glycohydrolases in species X?
 */
var searchInitValues;

$(document).ready(function () {
    $.getJSON(getWsUrl("search_init_glycan"), function (result) {
        searchInitValues = result;
        var orgElement = $("#organism2").get(0);
        createOption(orgElement, result.organism[0].name, result.organism[0].id);
        createOption(orgElement, result.organism[1].name, result.organism[1].id);
    });
});

function createOption(ddl, text, value) {
    var opt = document.createElement('option');
    opt.value = value;
    opt.text = text;
    ddl.options.add(opt);
}

function glycoHydrolases() {
    var id = $("#organism2").val();
    $.ajax({
        type: 'post',
        url: getWsUrl("search_glycohydrolases", id),
        error: ajaxSearchFailure,
        // data: json,
        success: function (results) {
            if (results.list_id) {
                window.location = './quick_protein_list.html?id=' + results.list_id + "&amp;question=QUESTION_8";
            }
            else {
                displayErrorByCode('no-results-found');
            }
        }
    })
}

/**
 * Q.9- What are the reported or predicted glycosylated proteins in species X?
 */

var searchInitValues;

$(document).ready(function () {
    $.getJSON(getWsUrl("search_init_glycan"), function (result) {
        searchInitValues = result;
        var orgElement = $("#organism3").get(0);
        createOption(orgElement, result.organism[0].name, result.organism[0].id);
        createOption(orgElement, result.organism[1].name, result.organism[1].id);
        var question = getParameterByName('question');
        var id = getParameterByName('id');
        populateLastSearch(question, id);
    });
});

function createOption(ddl, text, value) {
    var opt = document.createElement('option');
    opt.value = value;
    opt.text = text;
    ddl.options.add(opt);
}

function glycoProteins() {
    var id = $("#organism3").val();
    var id1 = $("#species").val();
    $.ajax({
        type: 'post',
        url: getWsUrl("search_glycoproteins", id, id1),
        error: ajaxSearchFailure,
        // data: json,
        success: function (results) {
            if (results.list_id) {
                window.location = './quick_protein_list.html?id=' + results.list_id + "&amp;question=QUESTION_9";
            }
            else {
                displayErrorByCode('no-results-found');
            }
        }
    })
}

/**
 * Q.10- What are the reported or predicted glycosylated proteins in species X?
 */
$("#glycosyltransferasesdisease").autocomplete({
    source: function (request, response) {
        var queryUrl = getWsUrl("type-ahead") + "?" + getSearchtypeheadData("disease_name", request.term);
        $.getJSON(queryUrl, function (suggestions) {
            suggestions.length = Math.min(suggestions.length, 10);
            response(suggestions);
        });
    },
    minLength: 1,
    select: function (event, ui) {
        console.log("Selected: " + ui.item.value + " aka " + ui.item.id);
    }
});

function glycosyTtransferasesDisease() {
    // displays the loading gif when the ajax call starts
    $('#loading_image').fadeIn();
    var disease = $("#glycosyltransferasesdisease").val();
    var formObject = {
        do_name: disease,
        tax_id: 0
    };
    var json = "query=" + JSON.stringify(formObject);
    $.ajax({
        type: 'POST',
        url: getWsUrl("search_disease"),
        data: json,
        error: ajaxSearchFailure,
        success: function (results) {
            if (results.list_id) {
                window.location = './quick_protein_list.html?id=' + results.list_id + "&amp;question=QUESTION_10";
            }
            else {
                displayErrorByCode('no-results-found');
            }
        }
    })
}
//Q.10.

function populateLastGlycanSearch(question, id) {
    $.ajax({
        dataType: "json",
        url: getWsUrl("glycan_list"),
        data: getListPostData(id, 1, 'mass', 'desc', 1),
        method: 'POST',
        timeout: getTimeout("list_glycan"),
        success: function (data) {
            $('#glycanenzyme').val(data.query.uniprot_canonical_ac);
        }
    });
}

function populateLastLocusSearch(question, id) {
    $.ajax({
        dataType: "json",
        url: getWsUrl("loci_list"),
        data: getListPostData(id, 1, 'uniprot_canonical_ac', 'desc', 1),
        method: 'POST',
        timeout: getTimeout("loci_list"),
        success: function (data) {
            $('#glycangene').val(data.query.glytoucan_ac);
        }
    });
}

function populateLastOrthougusSearch(question, id) {
    $.ajax({
        dataType: "json",
        url: getWsUrl("list_glycangene"),
        data: getListPostData(id, 1, 'uniprot_canonical_ac', 'desc', 1),
        method: 'POST',
        timeout: getTimeout("list_glycangene"),
        success: function (data) {
            $('#proteinorthologues').val(data.query.uniprot_canonical_ac);
        }
    });
}

function populateLastProteinSearch(question, id) {
    // make the server call
    $.ajax({
        dataType: "json",
        url: getWsUrl("protein_list"),
        data: getListPostData(id, 1, 'protein_name_long', 'desc', 1),
        method: 'POST',
        timeout: getTimeout("list_protein"),
        success: function (data) {

            switch (question) {
                case 'QUESTION_1':
                    $('#bioenzyme').val(data.query.glytoucan_ac);
                    break;
                case 'QUESTION_2':
                    $('#glycansite').val(data.query.glytoucan_ac);
                    break;
                case 'QUESTION_5':
                    $('#proteinfunction').val(data.query.glytoucan_ac);
                    break;
                case 'QUESTION_7':
                    $('#organism1').val(data.query.organism.id);
                    break;
                case 'QUESTION_8':
                    $('#organism2').val(data.query.organism.id);
                    break;
                case 'QUESTION_9':
                    $('#organism3').val(data.query.organism.id);
                    $('#species').val(data.query.evidence_type);
                    break;
                case 'QUESTION_10':
                    $('#glycosyltransferasesdisease').val(data.query.do_name);

                    break;
                default:
                    break;
            }
        },
        // error: ajaxListFailure
    });
}

function populateLastSearch(question, id) {
    $('#' + question).trigger('click');

    // make the ajax call to whichever endpoint
    switch (question) {
        case 'QUESTION_6':
            // call API for this type
            populateLastGlycanSearch(question, id);
            break;
        case 'QUESTION_3':
            populateLastLocusSearch(question, id);
            break;
        case 'QUESTION_4':
            populateLastOrthougusSearch(question, id);
            break;
        default:
            // call API for all others
            populateLastProteinSearch(question, id);
            break;
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="searchGlycanSimple.html">searchGlycanSimple</a></li><li><a href="searchProteinSimple.html">searchProteinSimple</a></li></ul><h3>Global</h3><ul><li><a href="global.html#$tagsInputBioenzyme">$tagsInputBioenzyme</a></li><li><a href="global.html#$tagsInputEnzyme">$tagsInputEnzyme</a></li><li><a href="global.html#$tagsInputFunction">$tagsInputFunction</a></li><li><a href="global.html#$tagsInputGeneName">$tagsInputGeneName</a></li><li><a href="global.html#$tagsInputGlycanenzyme">$tagsInputGlycanenzyme</a></li><li><a href="global.html#$tagsInputGlycangene">$tagsInputGlycangene</a></li><li><a href="global.html#$tagsInputGlycansite">$tagsInputGlycansite</a></li><li><a href="global.html#$tagsInputGlycosyltransferasesd">$tagsInputGlycosyltransferasesd</a></li><li><a href="global.html#$tagsInputMotif">$tagsInputMotif</a></li><li><a href="global.html#$tagsInputOrthologues">$tagsInputOrthologues</a></li><li><a href="global.html#$tagsInputPathwayID">$tagsInputPathwayID</a></li><li><a href="global.html#$tagsInputProtein">$tagsInputProtein</a></li><li><a href="global.html#$tagsInputProteinName">$tagsInputProteinName</a></li><li><a href="global.html#$tagsInputRefseq">$tagsInputRefseq</a></li><li><a href="global.html#$tagsInputSequences">$tagsInputSequences</a></li><li><a href="global.html#%255B%255BeditSearch%255D%255Dreturnstosearchpagewithprefieldfields">[[editSearch]] returns to search page with prefield fields</a></li><li><a href="global.html#activityTracker">activityTracker</a></li><li><a href="global.html#addCommas">addCommas</a></li><li><a href="global.html#adjustSequenceRuns">adjustSequenceRuns</a></li><li><a href="global.html#ajaxFailure">ajaxFailure</a></li><li><a href="global.html#ajaxListFailure">ajaxListFailure</a></li><li><a href="global.html#ajaxListSuccess">ajaxListSuccess</a></li><li><a href="global.html#ajaxProteinSearchSuccess">ajaxProteinSearchSuccess</a></li><li><a href="global.html#ajaxSearchFailure">ajaxSearchFailure</a></li><li><a href="global.html#ajaxSuccess">ajaxSuccess</a></li><li><a href="global.html#aminoLetter">aminoLetter</a></li><li><a href="global.html#buildHighlightData">buildHighlightData</a></li><li><a href="global.html#buildPages">buildPages</a></li><li><a href="global.html#buildRowHighlight">buildRowHighlight</a></li><li><a href="global.html#buildRowText">buildRowText</a></li><li><a href="global.html#buildSummary">buildSummary</a></li><li><a href="global.html#checkUncheck">checkUncheck</a></li><li><a href="global.html#clearLocalStore">clearLocalStore</a></li><li><a href="global.html#clickableExample">clickableExample</a></li><li><a href="global.html#configureDropDownLists">configureDropDownLists</a></li><li><a href="global.html#createHighlightRow">createHighlightRow</a></li><li><a href="global.html#createHighlightUi">createHighlightUi</a></li><li><a href="global.html#createOption">createOption</a></li><li><a href="global.html#decideAjaxError">decideAjaxError</a></li><li><a href="global.html#detailFormat">detailFormat</a></li><li><a href="global.html#displayBannerMsg">displayBannerMsg</a></li><li><a href="global.html#displayError">displayError</a></li><li><a href="global.html#displayHomeInitData">displayHomeInitData</a></li><li><a href="global.html#doNotLog">doNotLog</a></li><li><a href="global.html#downloadFromServer">downloadFromServer</a></li><li><a href="global.html#downloadPrompt">downloadPrompt</a></li><li><a href="global.html#editSearch">editSearch</a></li><li><a href="global.html#failToRetreiveSearch">failToRetreiveSearch</a></li><li><a href="global.html#formatSequence">formatSequence</a></li><li><a href="global.html#getDateMMDDYYYY">getDateMMDDYYYY</a></li><li><a href="global.html#getGlycosylationHighlightData">getGlycosylationHighlightData</a></li><li><a href="global.html#getListPostData">getListPostData</a></li><li><a href="global.html#getMutationHighlightData">getMutationHighlightData</a></li><li><a href="global.html#getParameterByName">getParameterByName</a></li><li><a href="global.html#getPlaceHolder">getPlaceHolder</a></li><li><a href="global.html#getTimeout">getTimeout</a></li><li><a href="global.html#getUrlVars">getUrlVars</a></li><li><a href="global.html#highlight">highlight</a></li><li><a href="global.html#imageFormat">imageFormat</a></li><li><a href="global.html#isHighlighted">isHighlighted</a></li><li><a href="global.html#lastSearch">lastSearch</a></li><li><a href="global.html#LoadData">LoadData</a></li><li><a href="global.html#LoadDataList">LoadDataList</a></li><li><a href="global.html#LoadGlycoProteinSearchvalues">LoadGlycoProteinSearchvalues</a></li><li><a href="global.html#loadingImg">loadingImg</a></li><li><a href="global.html#LoadProteinSearchvalues">LoadProteinSearchvalues</a></li><li><a href="global.html#LoadSearchvalues">LoadSearchvalues</a></li><li><a href="global.html#localizeLabels">localizeLabels</a></li><li><a href="global.html#logID">logID</a></li><li><a href="global.html#MassFormatter">MassFormatter</a></li><li><a href="global.html#massFormatter">massFormatter</a></li><li><a href="global.html#MESSAGES">MESSAGES</a></li><li><a href="global.html#next">next</a></li><li><a href="global.html#noOfPage">noOfPage</a></li><li><a href="global.html#pageFormat">pageFormat</a></li><li><a href="global.html#PageFormat">PageFormat</a></li><li><a href="global.html#prev">prev</a></li><li><a href="global.html#question">question</a></li><li><a href="global.html#resetAdvanced">resetAdvanced</a></li><li><a href="global.html#scrollToPanel">scrollToPanel</a></li><li><a href="global.html#searchInitFailure">searchInitFailure</a></li><li><a href="global.html#searchInitValues">searchInitValues</a></li><li><a href="global.html#searchjson">searchjson</a></li><li><a href="global.html#searchJson">searchJson</a></li><li><a href="global.html#searchjsonSimple">searchjsonSimple</a></li><li><a href="global.html#searchjsonSimpleP">searchjsonSimpleP</a></li><li><a href="global.html#setFormValues">setFormValues</a></li><li><a href="global.html#setGlycoProteinFormValues">setGlycoProteinFormValues</a></li><li><a href="global.html#setNavItemAsCurrent">setNavItemAsCurrent</a></li><li><a href="global.html#setProteinFormValues">setProteinFormValues</a></li><li><a href="global.html#sortDropdown">sortDropdown</a></li><li><a href="global.html#sortDropdownSimple">sortDropdownSimple</a></li><li><a href="global.html#submitvalues">submitvalues</a></li><li><a href="global.html#switchHandler">switchHandler</a></li><li><a href="global.html#totalNoSearch">totalNoSearch</a></li><li><a href="global.html#tracking">tracking</a></li><li><a href="global.html#tryBioEnzyme">tryBioEnzyme</a></li><li><a href="global.html#tryGlycanSite">tryGlycanSite</a></li><li><a href="global.html#tryMouseGlycans">tryMouseGlycans</a></li><li><a href="global.html#validateDiseaseName">validateDiseaseName</a></li><li><a href="global.html#validateEnzymeAcc">validateEnzymeAcc</a></li><li><a href="global.html#validateGeneName">validateGeneName</a></li><li><a href="global.html#validateGlycanAcc">validateGlycanAcc</a></li><li><a href="global.html#validateGlycanAcc1">validateGlycanAcc1</a></li><li><a href="global.html#validateGlycanAcc2">validateGlycanAcc2</a></li><li><a href="global.html#validateMotifName">validateMotifName</a></li><li><a href="global.html#validatePathwayID">validatePathwayID</a></li><li><a href="global.html#validatePathwayName">validatePathwayName</a></li><li><a href="global.html#validateProteinAcc">validateProteinAcc</a></li><li><a href="global.html#validateProteinAcc1">validateProteinAcc1</a></li><li><a href="global.html#validateProteinAcc2">validateProteinAcc2</a></li><li><a href="global.html#validateProteinID">validateProteinID</a></li><li><a href="global.html#validateProteinName">validateProteinName</a></li><li><a href="global.html#validateRefAcc">validateRefAcc</a></li><li><a href="global.html#ws_base">ws_base</a></li><li><a href="global.html#xdir">xdir</a></li><li><a href="global.html#xlimit">xlimit</a></li><li><a href="global.html#xpage">xpage</a></li><li><a href="global.html#xsort">xsort</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Dec 05 2018 12:58:29 GMT-0500 (EST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
