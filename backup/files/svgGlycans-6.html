<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">

  <title>SVG glycan - version 6</title>
  
  <link rel="stylesheet" type="text/css" href="css/svg_glycan.css">
  
  <style>
	
    div {
      height: 480px;
      border-style: solid;
      background-color: #FFFFEE;
      overflow: auto;
    }
	
    #infodiv {
     width: 39%;
     float: right;
    }

    #structurediv {
        width: 60%;
        float: left;
    }
    
    #dialogdiv {
      height: 150px;
      width: 100%;
    }
    
    p {
      padding: 15px;
    }
	
  </style>
  
  <script src = "js/json2svg_4.js"></script>
  
</head>

<body>

<div id="structurediv">
 <center><h2>This panel contains the image of the glycan</h2></center>
</div>

<div id="infodiv">
 <center><h2>This panel contains information about the glycan</h2></center>
</div>

<div id="dialogdiv">
<center>
 <button type="button" onclick="toggleIDs()">Show/Hide IDs</button>
    <button type="button" onclick="alert(svgStrOut)">Show SVG Code</button>
 <br>
 Enter the (relative of absolute) URL for JSON file describing the glycan: <input id="glycan_url" type="text"> 
 <button type="button" onclick="getNprocessData(document.getElementById('glycan_url').value)">GO</button><br />
     For example: "json/GOG123.json" <br>
 Alternatively, you can specify the glycan structure ID in the URL of this page, like this:
 <a href="svgGlycans-4.html?GOG123">svgGlycans-4.html?GOG123</a> <br><br />
    
    <a rel="license" target="_new" href="http://creativecommons.org/licenses/by/4.0/">
        <img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" />
    </a>
    This work is licensed (William S. York) under a 
    <a rel="license" target="_new" href="http://creativecommons.org/licenses/by/4.0/">
        Creative Commons Attribution 4.0 International License
    </a>.
 
 </center>
</div>

  <script>

   // the variables infoDiv and structureDiv are used by javascript to present information
   var infoDiv = document.getElementById("infodiv");
   var structureDiv = document.getElementById("structurediv");

   var headerStr = "  <style>\n\
    .gnode {\n\
      stroke: #000;\n\
      stroke-width: 2px;\n\
    }\n\
    .glink {\n\
      fill: none;\n\
      stroke: #000;\n\
      stroke-width: 3px;\n\
    }\n\
    .gtext {\n\
      font-size: 14px;\n\
    }\n\
  </style>\n";
      
  var showIDs = false;
	
  var width = 860,
	height = 400,
	margin = 20,
	xScale = 60,
	yScale = 50,
	nodeSize = 24;
	
  // nn is an array of DOM objects in the tree specified by "data.structure"
  // the array nn is populated by renderNodes
  var nn = new Array();
  var nodeColor = new Array();
  var nid = 0;
  var lastNID = 0;
  var svgStr = "<svg width='" + width + "' height='" + height + "'>\n";
  // the string svgStrOut is for external consumption, and has no onClick functionality
  var svgStrOut = "";	
  // nodes is an array of svg "gnode" objects that are sequentially generated by renderNodes
  // Since render nodes generates "gnode" objects in the same order as it parses the DOM objects,
  //   the indices of nodes and nn constitute a map associating the "gnode" objects to the 
  //     corresponding DOM objects.
  //  The "nodes" array is exploited in the method  "handleResidueNode". 
  var nodes = new Array();

</script>

<script>
 var params=window.location.search.substring(1);
 if (params) {
     var path = 'json/'+params+'.json';
     document.getElementById('glycan_url').value = path;
     // alert("Path is " + path);
     getNprocessData(path);
 }
</script>

</body>  
  
